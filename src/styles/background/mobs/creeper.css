@import url('../root.css');

/* ============================================================
    Creeper background and explosion styles
    ============================================================ */

/* ===== Creeper base ===== */
.bg-creeper {
     animation: creeperBob 3s ease-in-out infinite;
     filter: drop-shadow(1px 2px 0 rgba(0,0,0,0.4));
     height: 28px;
     image-rendering: pixelated;
     position: absolute;
     width: 12px;
}

/* clickable / focusable variant */
.bg-creeper.c1 {
     bottom: -8px;
     cursor: pointer;
     left: 80px;
     pointer-events: auto;
}

.bg-creeper.c1:focus-visible {
     outline: 2px solid var(--text-gold);
     outline-offset: 2px;
}

/* armed (flash) and gone (fade) states for the clickable creeper */
.bg-creeper.c1.armed .creeper-head,
.bg-creeper.c1.armed .creeper-body {
     animation: mc-explode-flash 0.6s steps(2,end) 3;
}

.bg-creeper.c1.gone {
     opacity: 0;
     transition: opacity 120ms ease;
}

@keyframes creeperBob {
     0%   { transform: translateY(0px); }
     50%  { transform: translateY(-1px); }
     100% { transform: translateY(0px); }
}

/* ===== Creeper parts ===== */
.creeper-head {
     background: linear-gradient(135deg, var(--creeper-main), var(--creeper-light));
     border: 1px solid rgba(0,0,0,0.3);
     height: 12px;
     margin: 0 auto;
     position: relative;
     width: 12px;
}

.creeper-head::before {
     background: #000;
     box-shadow: 6px 0 0 #000, 0 2px 0 #000, 6px 2px 0 #000, 2px 4px 0 #000, 4px 4px 0 #000;
     content: '';
     height: 2px;
     left: 2px;
     position: absolute;
     top: 2px;
     width: 2px;
}

.creeper-body {
     background: linear-gradient(var(--creeper-main), var(--creeper-light));
     border: 1px solid rgba(0,0,0,0.3);
     height: 14px;
     margin: 0 auto;
     width: 8px;
}

/* ===== Explosion container ===== */
.mc-explosion {
     display: none;
     height: 12px;
     pointer-events: none;
     position: absolute;
     width: 12px;
     z-index: 8;
}

.mc-explosion.c1 {
     bottom: -8px;
     left: 80px;
}

.mc-explosion.active {
     display: block;
}

/* ===== Explosion pieces ===== */
.mc-explosion .piece {
     animation: mc-piece 800ms cubic-bezier(.2,.65,.25,1) forwards;
     background: var(--clr, var(--text-gold));
     border: 1px solid rgba(0,0,0,0.1);
     box-shadow: inset 0 0 0 1px rgba(255,255,255,0.05);
     height: 6px;
     image-rendering: pixelated;
     opacity: 1;
     position: absolute;
     transform: translate(0,0) scale(1);
     width: 6px;
}

@keyframes mc-piece {
     to { transform: translate(var(--tx), var(--ty)) scale(.9); opacity: 0; }
}

/* expanding wave radiating from explosion center */
.mc-explosion .wave {
     animation: mc-wave 700ms ease-out forwards;
     border: 3px solid rgba(255,210,77,0.8);
     border-radius: 50%;
     box-shadow: 0 0 12px rgba(255,210,77,0.35);
     height: 8px;
     left: 50%;
     position: absolute;
     top: 50%;
     transform: translate(-50%, -50%);
     width: 8px;
}

@keyframes mc-wave {
     to {
          width: 120px;
          height: 120px;
          border-color: rgba(255,210,77,0);
          box-shadow: none;
     }
}

/* flash overlay for the explosion */
.mc-explosion .flash {
     animation: mc-flash 500ms ease-out forwards;
     background:
          radial-gradient(circle at center,
                rgba(255,241,170,0.75) 0%,
                rgba(255,210,77,0.35) 18%,
                rgba(255,145,0,0.15) 36%,
                rgba(255,145,0,0.06) 50%,
                transparent 60%);
     filter: blur(0.8px);
     inset: -20px;
     position: absolute;
}

@keyframes mc-flash {
     to {
          opacity: 0;
          transform: scale(1.2);
     }
}

/* ===== Explosion flash flicker used on creeper parts ===== */
@keyframes mc-explode-flash {
     0%, 66% { filter: none; }
     33%, 100% { filter: brightness(2) saturate(1.2) contrast(1.1); }
}